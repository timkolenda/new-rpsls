(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{164:function(e,a,t){"use strict";t.r(a);t(81);var n=t(0),r=t.n(n),s=t(32),i=t.n(s),o=t(168),c=t(21),l=t(4),p=t(5),d=t(7),m=t(6),u=t(8),h=t(167),y=t(169),C=t(74),g=t.n(C),v=t(166),f=function(e){var a=e.destination,t=e.message,n=e.action,s=void 0===n?null:n,i=e.customClass;return r.a.createElement("div",{className:"linkButton ".concat(i)},r.a.createElement(v.a,{className:"button__target",to:a,onClick:s},t||a))},b=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(d.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){t.props.playerNameReady?(t.props.handleNewPlayerFormSubmit(e),t.props.history.push("/game")):t.displayInvalidPlayerNameMessage()},t.handleClick=function(){t.props.playerNameReady?t.props.addNewPlayerToFirebase():t.displayInvalidPlayerNameMessage()},t.displayInvalidPlayerNameMessage=function(){g()("Oops!","Looks like you need to enter a valid Nick Name!","error")},t}return Object(u.a)(a,e),Object(p.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"login"},r.a.createElement("h1",null,"RPSLS"),r.a.createElement("form",{className:"playerNameSubmissionForm",action:"#",onSubmit:this.handleSubmit},r.a.createElement("label",{className:"visuallyhidden",htmlFor:"playerName"},"Please enter your nickname!"),r.a.createElement("input",{className:"playerNameSubmissionForm__input",type:"text",id:"playerName",value:this.props.playerName,onChange:function(a){return e.props.handleChange(a,e.props.checkForPlayerNameReady)},placeholder:"Enter a Nickname"})),r.a.createElement("div",{className:"loginPageButtons"},r.a.createElement("div",{className:"loginPageButtons__buttonContainer",onClick:this.handleClick},r.a.createElement(f,{destination:this.props.playerNameReady?"game":"/",message:"Play Game"})),r.a.createElement("div",{className:"loginPageButtons__buttonContainer"},r.a.createElement(f,{destination:"instructions"})),r.a.createElement("div",{className:"loginPageButtons__buttonContainer"},r.a.createElement(f,{destination:"leaderboard"}))))}}]),a}(n.Component),E=(Object(y.a)(b),t(56)),N=t.n(E),w=t(77),k=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(d.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={squareDimension:0},t.handleClick=function(){t.props.getPlayerChoice(t.props.type),t.props.disableButtonDuringAnimation()},t.updateDimensions=function(){var e=window.innerWidth/4;t.setState({squareDimension:e})},t}return Object(u.a)(a,e),Object(p.a)(a,[{key:"componentDidMount",value:function(){this.updateDimensions(),window.addEventListener("resize",this.updateDimensions)}},{key:"render",value:function(){var e={width:this.state.squareDimension,height:this.state.squareDimension},a=!1;return a=!!this.props.tempDisabled||!this.props.playerCards[this.props.type],r.a.createElement("button",{className:"playerOptionItem",onClick:this.handleClick,style:window.innerWidth<750?e:null,disabled:a},r.a.createElement("div",null,r.a.createElement("img",{src:this.props.image,alt:this.props.alt,className:this.props.customClass})))}}]),a}(n.Component),S=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(t=Object(d.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(s)))).state={tempDisabled:!1},t.disableButtonDuringAnimation=function(){t.setState({tempDisabled:!0}),setTimeout(function(e){t.setState({tempDisabled:!1})},3500)},t.renderPlayerOptions=function(){return t.props.options.map(function(e){return r.a.createElement(k,{key:e.index,image:e.img,alt:e.alt,type:e.type,getPlayerChoice:t.props.getPlayerChoice,showCard:t.props.showCard,customClass:e.customClass,playerCards:t.props.playerCards,disableButtonDuringAnimation:t.disableButtonDuringAnimation,tempDisabled:t.state.tempDisabled})})},t}return Object(u.a)(a,e),Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"playerOptionList"},this.renderPlayerOptions())}}]),a}(n.Component),_=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(t=Object(d.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(s)))).state={squareDimension:0},t.updateDimensions=function(){var e=window.innerWidth/1.55;t.setState({squareDimension:e})},t.renderVictoryMessage=function(){return r.a.createElement("div",{className:"card__victoryMessage"},t.props.winStatement)},t}return Object(u.a)(a,e),Object(p.a)(a,[{key:"componentDidMount",value:function(){this.updateDimensions(),window.addEventListener("resize",this.updateDimensions)}},{key:"render",value:function(){var e={width:this.state.squareDimension,height:this.state.squareDimension};return r.a.createElement("div",{className:"card",style:window.innerWidth<750?e:null},r.a.createElement("div",{className:"card__cardFlipper ".concat(this.props.flipped?"card__cardFlipper--active":""),style:window.innerWidth<750?e:null},r.a.createElement("div",{className:"card__display card__display--back",style:window.innerWidth<750?e:null},r.a.createElement("img",{src:"../../assets/background.png",alt:"image for the back of the card"})),r.a.createElement("div",{className:"card__display card__display--front",style:window.innerWidth<750?e:null},r.a.createElement("img",{src:this.props.image,alt:"played card image"}),this.renderVictoryMessage())))}}]),a}(n.Component),O=function(e){var a=e.playerCardFlipped,t=e.compCardFlipped,n=e.playerCardImage,s=e.compCardImage,i=e.playerChoice,o=e.compChoice,c=e.roundResult,l=function(){var e=[];return e.push(i,o),e.includes("rock")&&e.includes("paper")?"Paper covers rock":e.includes("rock")&&e.includes("scissors")?"Rock smashes scissors":e.includes("rock")&&e.includes("lizard")?"Rock crushes lizard":e.includes("rock")&&e.includes("spock")?"Spock vaporizes rock":e.includes("paper")&&e.includes("scissors")?"Scissors cut paper":e.includes("paper")&&e.includes("lizard")?"Lizard eats paper":e.includes("paper")&&e.includes("spock")?"Paper disproves spock":e.includes("scissors")&&e.includes("lizard")?"Scissors decapitate lizard":e.includes("scissors")&&e.includes("spock")?"Spock smashes scissors":e.includes("lizard")&&e.includes("spock")?"Lizard bites spock":void 0};return r.a.createElement("div",{className:"cardDisplay"},r.a.createElement(_,{flipped:a,image:n,winStatement:"Win"===c?l():null}),r.a.createElement(_,{flipped:t,image:s,winStatement:"Lose"===c?l():null}))},D=(Object(y.a)(function(e){var a=e.resetGame,t=e.playerWinCount,n=void 0===t?0:t,s=e.compWinCount,i=void 0===s?0:s,o=e.tieCount,c=void 0===o?0:o,l=e.playerName,p=e.history;return l||p.push("/"),r.a.createElement("div",{className:"results"},r.a.createElement("table",{className:"ui celled large table padded unstackable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"2",className:"center aligned"},l))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Games Won"),r.a.createElement("td",{className:"center aligned"},n)),r.a.createElement("tr",null,r.a.createElement("td",null,"Games Lost"),r.a.createElement("td",{className:"center aligned"},i)),r.a.createElement("tr",null,r.a.createElement("td",null,"Games Tied"),r.a.createElement("td",{className:"center aligned"},c)))),r.a.createElement(f,{destination:"/",message:"New Game",action:a}),r.a.createElement(f,{destination:"/leaderboard",message:"Leaderboard"}))}),[{type:"rock",img:"assets/rock.png",alt:"Image of a hand in a fist, indicating rock!",index:0,customClass:"rockClass"},{type:"paper",img:"assets/paper.png",alt:"Image of a flat hand, indicating paper!",index:1,customClass:"paperClass"},{type:"scissors",img:"assets/scissors.png",alt:"Image of a hand with two fingers out, indicating scissors!",index:2,customClass:"scissorsClass"},{type:"lizard",img:"assets/lizard.png",alt:"Image of a hand forming a mouth, indicating lizard!",index:3,customClass:"lizardClass"},{type:"spock",img:"assets/spock.png",alt:"Image of a hand giving the Vulcan salute, indicating spock!",index:4,customClass:"spockClass"}]),j=function(e){var a=e.compCardsArray,t=e.playerCards,n=e.playerWinCount,s=e.compWinCount,i=e.tieCount,o=function(e){return D.map(function(a){return r.a.createElement("div",{className:"listItem",key:a.type},r.a.createElement("div",{className:"listItem__image"},r.a.createElement("img",{src:a.img,alt:a.alt})),r.a.createElement("div",{className:"listItem__counter"},function(e,a){return D.map(function(t,n){return r.a.createElement("div",{key:n,className:"bubble ".concat(e[a]>=n+1?"filled ":"")})})}(e,a.type)))})};return r.a.createElement("div",{className:"cardTracker"},r.a.createElement("div",{className:"counterList"},o(t)),r.a.createElement("div",{className:"counterList"},o(function(){var e={};return a.map(function(a){var t=Object.entries(a);e[t[0][0]]=t[0][1]}),e}())),r.a.createElement("div",{className:"score"},r.a.createElement("div",{className:"score__row"},r.a.createElement("div",{className:"score__cell score__cell--heading"},"Wins"),r.a.createElement("div",{className:"score__cell"},n)),r.a.createElement("div",{className:"score__row"},r.a.createElement("div",{className:"score__cell score__cell--heading"},"Loses"),r.a.createElement("div",{className:"score__cell"},s)),r.a.createElement("div",{className:"score__row"},r.a.createElement("div",{className:"score__cell score__cell--heading"},"Ties"),r.a.createElement("div",{className:"score__cell"},i))))},W=t(57),R=t.n(W);R.a.initializeApp({apiKey:"AIzaSyCr6cQFXFwCYl7-ClBTIAK6H6MhS6XNkC8",authDomain:"new-rpsls.firebaseapp.com",databaseURL:"https://new-rpsls.firebaseio.com",projectId:"new-rpsls",storageBucket:"new-rpsls.appspot.com",messagingSenderId:"783810961248"});var A=R.a,I=t(78),P=t.n(I).a.create({baseURL:"https://api.unsplash.com/",headers:{Authorization:"Client-ID 630c588d9c659156e3aeb6db866809578dadb2520e92e3eaaa7d6c58a069053a"}}),F=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(t=Object(d.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(s)))).state={options:D,playerCardFlipped:!1,compCardFlipped:!1,playerChoice:"",compChoice:"",compChoiceNumber:"",compChoiceArray:[{rock:5},{paper:5},{scissors:5},{lizard:5},{spock:5}],playerCards:{rock:5,paper:5,scissors:5,lizard:5,spock:5},cardImage:"",playerCardImage:"",compCardImage:"",playerWinCount:0,compWinCount:0,tieCount:0,roundResult:"",totalRounds:0},t.getCardImage=function(){var e=Object(w.a)(N.a.mark(function e(a,n){var r,s,i;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"spock"===a&&(a="space"),e.next=3,P.get("search/photos",{params:{query:a}});case 3:r=e.sent,s=Math.floor(Math.random()*r.data.results.length),i=r.data.results[s].urls.regular,t.setState(Object(c.a)({},"".concat(n,"CardImage"),i),function(){return t.showCard("".concat(n))});case 7:case"end":return e.stop()}},e,this)}));return function(a,t){return e.apply(this,arguments)}}(),t.showCard=function(e){return t.setState(Object(c.a)({},"".concat(e,"CardFlipped"),!0))},t.getPlayerChoice=function(e){return t.setState({playerChoice:e},function(){t.getCardImage(t.state.playerChoice,"player"),t.spendPlayerCard(),t.getCompChoice()})},t.getCompChoice=function(){setTimeout(function(){var e=Math.floor(Math.random()*t.state.compChoiceArray.length),a=Object.keys(t.state.compChoiceArray[e])[0];t.setState({compChoice:a,compChoiceNumber:e},function(){t.resolveSetCompChoice()})},1e3)},t.resolveSetCompChoice=function(){t.spendCompCard(),t.getCardImage(t.state.compChoice,"comp")},t.spendPlayerCard=function(){var e=t.state.playerCards;e[t.state.playerChoice]=e[t.state.playerChoice]-1,t.setState({playerCards:e})},t.spendCompCard=function(){var e=t.state.compChoiceArray;e[t.state.compChoiceNumber][t.state.compChoice]--;var a=e[t.state.compChoiceNumber][t.state.compChoice];t.setState({compChoiceArray:e},function(){return t.caluculateResult(t.state.playerChoice,t.state.compChoice)}),0===a&&t.clearEmptyCardSlot()},t.clearEmptyCardSlot=function(){var e=t.state.compChoiceArray;e.splice(t.state.compChoiceNumber,1),t.setState({compchoiceArray:e})},t.caluculateResult=function(e,a){e&&a&&("rock"===e&&"scissors"===a||"rock"===e&&"lizard"===a||"paper"===e&&"rock"===a||"paper"===e&&"spock"===a||"scissors"===e&&"paper"===a||"scissors"===e&&"lizard"===a||"spock"===e&&"rock"===a||"spock"===e&&"scissors"===a||"lizard"===e&&"paper"===a||"lizard"===e&&"spock"===a?(t.props.updateCount("win"),t.setState({playerWinCount:t.state.playerWinCount+1,roundResult:"Win"},function(){return t.resolveRound("Win")})):t.state.playerChoice===t.state.compChoice?(t.props.updateCount("tie"),t.setState({tieCount:t.state.tieCount+1,roundResult:"Tie"},function(){return t.resolveRound("Tie")})):(t.props.updateCount("lose"),t.setState({compWinCount:t.state.compWinCount+1,roundResult:"Lose"},function(){return t.resolveRound("Lose")})))},t.resolveRound=function(e){setTimeout(function(e){t.getTotalRounds(),t.resetForNextRound()},2e3)},t.getTotalRounds=function(){var e=t.state.compWinCount+t.state.playerWinCount+t.state.tieCount;t.setState({totalRounds:e})},t.saveCurrentGameData=function(){var e={compChoiceArray:t.state.compChoiceArray,playerCards:t.state.playerCards};A.database().ref().child(t.props.id).child("recoveryData").set(e).then(function(e){t.props.setRecoveryDataState()})},t.recoverCurrentGameData=function(){A.database().ref().child(t.props.id).child("recoveryData").once("value").then(function(e){var a=e.toJSON();t.restoreCurrentGame(a)})},t.restoreCurrentGame=function(e){var a=[];for(var n in e.compChoiceArray)a.push(e.compChoiceArray[n]);t.setState({compChoiceArray:a,playerCards:e.playerCards,playerWinCount:t.props.win,compWinCount:t.props.lose,tieCount:t.props.tie})},t.triggerEndGame=function(e){25===e&&t.props.history.push("/results")},t.resetForNextRound=function(){t.saveCurrentGameData(),t.setState({playerCardFlipped:!1,compCardFlipped:!1,playerChoice:"",compChoice:"",compChoiceNumber:"",roundResult:""},function(){return t.triggerEndGame(t.state.totalRounds)})},t.renderAdmin=function(){return r.a.createElement("div",{className:"adminArea"},r.a.createElement(j,{playerCards:t.state.playerCards,compCardsArray:t.state.compChoiceArray,playerWinCount:t.state.playerWinCount,compWinCount:t.state.compWinCount,tieCount:t.state.tieCount}),r.a.createElement(f,{destination:"menu",action:t.saveCurrentGameData,message:r.a.createElement("i",{className:"fas fa-bars"}),customClass:"menu"}))},t}return Object(u.a)(a,e),Object(p.a)(a,[{key:"componentDidMount",value:function(){this.props.recoveryDataExists&&this.recoverCurrentGameData(),this.props.playerName||this.props.history.push("/")}},{key:"render",value:function(){return r.a.createElement("div",{className:"game"},r.a.createElement("div",{className:"game__cardArea"},r.a.createElement(S,{options:D,getPlayerChoice:this.getPlayerChoice,playerCards:this.state.playerCards}),r.a.createElement("div",{className:"cardDisplayContainer"},r.a.createElement(O,{options:D,playerCardFlipped:this.state.playerCardFlipped,compCardFlipped:this.state.compCardFlipped,playerChoice:this.state.playerChoice,compChoice:this.state.compChoice,playerCardImage:this.state.playerCardImage,compCardImage:this.state.compCardImage,roundResult:this.state.roundResult}),window.innerWidth<750?null:this.renderAdmin())),window.innerWidth<750?this.renderAdmin():null)}}]),a}(n.Component),x=(Object(y.a)(F),function(e){return i.a.createPortal(r.a.createElement("div",{onClick:e.onDismiss,className:"ui dimmer modals visible active"},r.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"ui standard modal visible active"},r.a.createElement("div",{className:"ui huge header"},e.title),r.a.createElement("div",{className:"content maxedHeight"},e.content),r.a.createElement("div",{className:"actions"},e.actions))),document.querySelector("#modal"))}),z=t(26),L=Object(z.a)(),G=(n.Component,A.database().ref()),M=(n.Component,t(79)),T=t.n(M),q=A.database().ref(),B=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(d.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={playerName:"",playerNameReady:!1,tie:0,win:0,lose:0,id:"",windowWidth:0,windowHeight:0,recoveryDataExists:!1},t.updateWindow=function(){t.setState({windowWidth:window.innerWidth,windowHeight:window.innerHeight})},t.handleChange=function(e,a){t.setState(Object(c.a)({},e.target.id,e.target.value),function(){return a()})},t.checkForPlayerNameReady=function(){"Enter a nickname"!==t.state.playerName&&""!==t.state.playerName&&" "!==t.state.playerName&&"  "!==t.state.playerName&&"   "!==t.state.playerName?t.setState({playerNameReady:!0}):t.setState({playerNameReady:!1})},t.handleNewPlayerFormSubmit=function(e){e.preventDefault(),t.addNewPlayerToFirebase()},t.addNewPlayerToFirebase=function(){var e={name:t.state.playerName,win:t.state.win,lose:t.state.lose,tie:t.state.tie};q.push(e).then(function(e){t.setState({id:e.key})})},t.updateFirebase=function(e){q.child(t.state.id).child(e).set(t.state[e])},t.updateCount=function(e){t.setState(Object(c.a)({},e,t.state[e]+1),function(){return t.updateFirebase(e)})},t.setRecoveryDataState=function(){t.setState({recoveryDataExists:!0})},t.resetGame=function(){t.setState({playerName:"",playerNameReady:!1,tie:0,win:0,lose:0,id:"",recoveryDataExists:""})},t}return Object(u.a)(a,e),Object(p.a)(a,[{key:"componentDidMount",value:function(){this.updateWindow(),window.addEventListener("resize",this.updateWindow)}},{key:"render",value:function(){var e={backgroundImage:"linear-gradient(to bottom, rgba(205, 169, 157, 0.7), rgba(205, 169, 157, 0.7)), url(".concat(T.a,")")};return r.a.createElement("div",{className:"app",style:e},r.a.createElement("div",{className:"appWrapper"},r.a.createElement(h.a,Object(c.a)({exact:!0,path:"/"},"exact",!0)),r.a.createElement(h.a,{path:"/game",exact:!0}),r.a.createElement(h.a,{path:"/menu",exact:!0}),r.a.createElement(h.a,{path:"/instructions",exact:!0}),r.a.createElement(h.a,{path:"/leaderboard",exact:!0}),r.a.createElement(h.a,{path:"/results",exact:!0})))}}]),a}(n.Component);i.a.render(r.a.createElement(o.a,{basename:"new-rpsls",style:"background: red"},r.a.createElement(B,null)),document.querySelector("#root"))},79:function(e,a,t){e.exports=t.p+"static/media/background.ce8f19bd.png"},80:function(e,a,t){e.exports=t(164)},81:function(e,a,t){}},[[80,2,1]]]);
//# sourceMappingURL=main.c75fec77.chunk.js.map